<%- include('partials/head') -%>
<%- include('partials/nav') -%>
<main>
  <section class="search-results row justify-content-center">
    <% if(searchQuery == "" || userProfiles.length == 0) {%>
        <section class="col">
            <h3 class="mt-3 search">No Users Found</h3>
        </section>
    
        <aside class="col-4">
            <h3 class="mt-3 search">Show results for</h3>
            <ul>
                <li>
                <a href="/search/movie?query=<%= searchQuery %>">Movies</a>
                </li>
                <li class="search-movie rounded">
                <a href="/search/user?query=<%= searchQuery %>">Users</a>
                </li>
            </ul>
        </aside> 
    <% } else { %>
      <section class="col">
        <h3 class="mt-3 search">Search Results for "<%= searchQuery %>"</h3>
        <% userProfiles.forEach(userProfile => { %>
          <div class="card mb-3">
              <div class="d-flex">
                <div>
                    <a href="/<%= userProfile.userName %>" class="nav-link">
                        <img src="<%= userProfile.profilePic %>" alt="user profile picture" loading="lazy" class="img-fluid rounded userProfilePic">
                    </a>
                </div>
                <div class="card-body">
                    <a href="/<%= userProfile.userName %>" class="nav-link">
                        <p class="review-username"><%= userProfile.userName %></p>
                    </a>
                </div>
          </div>       
        <% }); %>    
      </section>

      <aside class="col-4">
        <h3 class="mt-3 search">Show results for</h3>
        <ul>
          <li>
            <a href="/search/movie?query=<%= searchQuery %>">Movies</a>
          </li>
          <li class="search-movie rounded">
            <a href="/search/user?query=<%= searchQuery %>">Users</a>
          </li>
        </ul>
      </aside> 
           
    <% }%>
  </section>
</main>

<%- include('partials/footer') -%>

